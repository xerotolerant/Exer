<ion-view view-title="Dashboard">
  <ion-content class="padding">
    <form name = "eventForm" ng-show = "newEvent" >
      <label class = "item item-input">
        <span class = "input-label">Event title</span>
        <input type = "text" name = "eventTitle" ng-model = "eventTitle" required>
      </label>
      <label class = "item item-input">
        <span class = "input-label">location name</span>
        <input type = "text" name = "eventLocation" ng-model = "eventLocation" required>
      </label>
    </form>
    <button class ="button button-positive" ng-click = "createEvent(eventTitle, eventLocation)">Create event</button>
    <!-- show list of events -->
    <ion-list>
      <ion-item class = "item-text-wrap" ng-repeat = "(key, event) in events">
        <div>
          <h1>{{event.title}}</h1>
          <p>{{event.location.name}}</p>
          <p >Id: {{key}}</p>
          <button class = "button button-small button-positive" ng-click = "subscribe(key)">subscribe</button>
          <!--Show if key is in subscribedEvents -->
          <i class = "icon ion-checkmark positive" ng-show = "subscribedEvents.hasOwnProperty(key)"></i>
        </div>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
